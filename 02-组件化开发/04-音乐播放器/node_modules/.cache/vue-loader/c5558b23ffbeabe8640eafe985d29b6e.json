{"remainingRequest":"C:\\Users\\15702\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Vue学习笔记\\VueStudy\\02-组件化开发\\04-音乐播放器\\App.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\Vue学习笔记\\VueStudy\\02-组件化开发\\04-音乐播放器\\App.vue","mtime":1583758578700},{"path":"C:\\Users\\15702\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\15702\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\15702\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgYXhpb3MgZnJvbSAiYXhpb3MiOw0KLy/lr7zlhaXlrZDnu4Tku7YNCmltcG9ydCBzb25ncyBmcm9tICIuL2NvbXBvbmVudHMvc29uZ3MudnVlIjsNCmltcG9ydCBtaWRkbGUgZnJvbSAiLi9jb21wb25lbnRzL21pZGRsZS52dWUiOw0KaW1wb3J0IGNvbW1lbnRzIGZyb20gIi4vY29tcG9uZW50cy9jb21tZW50cy52dWUiOw0KZXhwb3J0IGRlZmF1bHQgew0KICBkYXRhKCkgew0KICAgIHJldHVybiB7DQogICAgICBpbnB1dFZhbHVlOiAiIiwgLy/mkJzntKLmoYbnmoTlgLwNCiAgICAgIHNpbmdVcmw6ICIiIC8v5q2M5puy5pKt5pS+5Zyw5Z2ADQogICAgfTsNCiAgfSwNCiAgLy8g5rOo5YaM57uE5Lu2DQogIGNvbXBvbmVudHM6IHsNCiAgICBzb25ncywNCiAgICBtaWRkbGUsDQogICAgY29tbWVudHMNCiAgfSwNCiAgbWV0aG9kczogew0KICAgIHNlYXJjaCgpIHsNCiAgICAgIGF4aW9zKHsNCiAgICAgICAgbWV0aG9kOiAiZ2V0IiwNCiAgICAgICAgdXJsOiAiaHR0cHM6Ly9hdXR1bW5maXNoLmNuL3NlYXJjaCIsDQogICAgICAgIHBhcmFtczogew0KICAgICAgICAgIGtleXdvcmRzOiB0aGlzLmlucHV0VmFsdWUsDQogICAgICAgICAgc3M6IE1hdGgucmFuZG9tKCkgKiA5OTkNCiAgICAgICAgfQ0KICAgICAgfSkNCiAgICAgICAgLnRoZW4ocmVzdWx0ID0+IHsNCiAgICAgICAgICAvL+iOt+WPluWIsOmfs+S5kOWIl+ihqOaVsOaNruWQjuS8oOe7meWtkOe7hOS7tg0KICAgICAgICAgIHRoaXMuJHJlZnMuc29uZ0Nwbi5zb25nTGlzdCA9IHJlc3VsdC5kYXRhLnJlc3VsdC5zb25nczsNCiAgICAgICAgICAvL+imgeWcqOaVsOaNruaUueWPmOWQju+8jOWKoOS4gOS4quW7tuaXtuWGjeWIt+aWsO+8jOS4uuS6huS/neivgeaVsOaNruS4gOWumuWujOaIkOa4suafk+WIsOmhtemdog0KICAgICAgICAgIHRoaXMuJHJlZnMuc29uZ0Nwbi5zY3JvbGxSZWZyZXNoKCk7DQogICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTsNCiAgICAgICAgfSkNCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsNCiAgICAgICAgICBjb25zb2xlLmxvZyhlcnJvcik7DQogICAgICAgIH0pOw0KICAgIH0sDQogICAgLy8gICAgICBodHRwczovL2F1dHVtbmZpc2guY24vc2VhcmNoP2tleXdvcmRzPSDnpZ7or50gICAgICAgICAgICAgICDmkJzntKLmrYzmm7Lml7bmjqXlj6Pojrflj5bpn7PkuZDliJfooagNCiAgICAvLyAtICAgaHR0cHM6Ly9hdXR1bW5maXNoLmNuL3NvbmcvdXJsP2lkPTMxMDU3NCAgICAgICAgICAgICAgICAgICAgICDojrflj5bpn7PkuZB1cmwNCiAgICAvLyAtICAgaHR0cHM6Ly9hdXR1bW5maXNoLmNuL2NvbW1lbnQvbXVzaWM/aWQ9MzEwNTc0ICAgICAgICAg6I635Y+WIOeUqOaIt+ivhOiuuuWIl+ihqA0KICAgIC8vIC0gIGh0dHBzOi8vYXV0dW1uZmlzaC5jbi9zb25nL2RldGFpbD9pZHM9MzEwNTc0ICAgICAgICAgICAgICAgIOiOt+WPliDpn7PkuZDor6bmg4UgICDlpoLlm77niYfvvIzmvJTllLHogIXnrYkNCg0KICAgIC8v6I635Y+W5q2M5puy5pKt5pS+dXJsDQogICAgZ2V0U2luZ1VybChzaW5nSWQpIHsNCiAgICAgIGNvbnNvbGUubG9nKHNpbmdJZCk7DQoNCiAgICAgIGF4aW9zKHsNCiAgICAgICAgdXJsOiAiaHR0cHM6Ly9hdXR1bW5maXNoLmNuL3NvbmcvdXJsIiwNCiAgICAgICAgcGFyYW1zOiB7DQogICAgICAgICAgaWQ6IHNpbmdJZCwNCiAgICAgICAgICBzczogTWF0aC5yYW5kb20oKSAqIDk5OQ0KICAgICAgICB9DQogICAgICB9KQ0KICAgICAgICAudGhlbihyZXN1bHQgPT4gew0KICAgICAgICAgIC8v5bCG6Z+z5LmQ5pKt5pS+5Zyw5Z2A6LWL57uZc2luZ1VybA0KICAgICAgICAgIHRoaXMuc2luZ1VybCA9IHJlc3VsdC5kYXRhLmRhdGFbMF0udXJsOw0KICAgICAgICAgIC8vICAgY29uc29sZS5sb2coJ+atjOabsuWcsOWdgCcscmVzdWx0LmRhdGEuZGF0YVswXS51cmwpOw0KICAgICAgICB9KQ0KICAgICAgICAuY2F0Y2goZXJyb3IgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsNCiAgICAgICAgfSk7DQogICAgfSwNCiAgICAvL+iOt+WPluatjOabsueahOivhOiuuuWIl+ihqA0KICAgIGdldENvbW1lbnRzKHNpbmdJZCkgew0KICAgICAgYXhpb3Moew0KICAgICAgICBtZXRob2Q6ICJwb3N0IiwNCiAgICAgICAgdXJsOiAiaHR0cHM6Ly9hdXR1bW5maXNoLmNuL3NlYXJjaCIsDQogICAgICAgIHBhcmFtczoge30sDQogICAgICAgIGRhdGE6IHt9DQogICAgICB9KQ0KICAgICAgICAudGhlbihyZXN1bHQgPT4gew0KICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOw0KICAgICAgICB9KTsNCiAgICAgIGF4aW9zKHsNCiAgICAgICAgdXJsOiAiaHR0cHM6Ly9hdXR1bW5maXNoLmNuL2NvbW1lbnQvbXVzaWMiLA0KICAgICAgICBwYXJhbXM6IHsNCiAgICAgICAgICBpZDogc2luZ0lkLA0KICAgICAgICAgIHNzOiBNYXRoLnJhbmRvbSgpICogOTk5DQogICAgICAgIH0NCiAgICAgIH0pDQogICAgICAgIC50aGVuKHJlc3VsdCA9PiB7DQogICAgICAgICAgLy8gICBjb25zb2xlLmxvZygn6K+E6K665YiX6KGoJyxyZXN1bHQpOw0KICAgICAgICAgIC8v6I635Y+W5Yiw6K+E6K665YiX6KGo5Lyg57uZ5a2Q57uE5Lu2DQogICAgICAgICAgdGhpcy4kcmVmcy5jb21tZW50cy5jb21tZW50TGlzdCA9IHJlc3VsdC5kYXRhLmhvdENvbW1lbnRzOw0KICAgICAgICAgIC8v6LCD55So5a2Q57uE5Lu25bu25pe25Yi35pawDQogICAgICAgICAgdGhpcy4kcmVmcy5jb21tZW50cy5zY3JvbGxSZWZyZXNoKCk7DQogICAgICAgIH0pDQogICAgICAgIC5jYXRjaChlcnJvciA9PiB7DQogICAgICAgICAgY29uc29sZS5sb2coZXJyb3IpOw0KICAgICAgICB9KTsNCiAgICB9LA0KICAgIC8vIOebkeWQrOmfs+S5kOaSreaUvuS6i+S7tg0KICAgIHBsYXlFdmVudCgpIHsNCiAgICAgIHRoaXMuJHJlZnMucGxheWVyLmlzUGxheSA9IHRydWU7DQogICAgfSwNCiAgICAvLyDnm5HlkKzpn7PkuZDlgZzmraLkuovku7YNCiAgICBwYXVzZUV2ZW50KCkgew0KICAgICAgdGhpcy4kcmVmcy5wbGF5ZXIuaXNQbGF5ID0gZmFsc2U7DQogICAgfQ0KICB9DQp9Ow0K"},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"App.vue","sourceRoot":".","sourcesContent":["<template>\r\n  <div class=\"wrap\">\r\n    <div class=\"play_wrap\" id=\"player\">\r\n      <div class=\"search_bar\">\r\n        <img src=\"./assets/images/player_title.png\" alt />\r\n        <input type=\"text\" v-model=\"inputValue\" @keyup.enter=\"search\" />\r\n      </div>\r\n      <div class=\"center_con\">\r\n        <!-- 音乐列表 -->\r\n        <songs ref=\"songCpn\"></songs>\r\n        <!-- 黑胶碟片 -->\r\n        <middle ref=\"player\"></middle>\r\n        <!-- 评论列表 -->\r\n        <comments ref=\"comments\"></comments>\r\n      </div>\r\n      <div class=\"audio_con\">\r\n        <audio\r\n          @play=\"playEvent\"\r\n          @pause=\"pauseEvent\"\r\n          controls\r\n          autoplay\r\n          loop\r\n          class=\"myaudio\"\r\n          :src=\"singUrl\"\r\n        ></audio>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n//导入子组件\r\nimport songs from \"./components/songs.vue\";\r\nimport middle from \"./components/middle.vue\";\r\nimport comments from \"./components/comments.vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      inputValue: \"\", //搜索框的值\r\n      singUrl: \"\" //歌曲播放地址\r\n    };\r\n  },\r\n  // 注册组件\r\n  components: {\r\n    songs,\r\n    middle,\r\n    comments\r\n  },\r\n  methods: {\r\n    search() {\r\n      axios({\r\n        method: \"get\",\r\n        url: \"https://autumnfish.cn/search\",\r\n        params: {\r\n          keywords: this.inputValue,\r\n          ss: Math.random() * 999\r\n        }\r\n      })\r\n        .then(result => {\r\n          //获取到音乐列表数据后传给子组件\r\n          this.$refs.songCpn.songList = result.data.result.songs;\r\n          //要在数据改变后，加一个延时再刷新，为了保证数据一定完成渲染到页面\r\n          this.$refs.songCpn.scrollRefresh();\r\n          console.log(result);\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    //      https://autumnfish.cn/search?keywords= 神话               搜索歌曲时接口获取音乐列表\r\n    // -   https://autumnfish.cn/song/url?id=310574                      获取音乐url\r\n    // -   https://autumnfish.cn/comment/music?id=310574         获取 用户评论列表\r\n    // -  https://autumnfish.cn/song/detail?ids=310574                获取 音乐详情   如图片，演唱者等\r\n\r\n    //获取歌曲播放url\r\n    getSingUrl(singId) {\r\n      console.log(singId);\r\n\r\n      axios({\r\n        url: \"https://autumnfish.cn/song/url\",\r\n        params: {\r\n          id: singId,\r\n          ss: Math.random() * 999\r\n        }\r\n      })\r\n        .then(result => {\r\n          //将音乐播放地址赋给singUrl\r\n          this.singUrl = result.data.data[0].url;\r\n          //   console.log('歌曲地址',result.data.data[0].url);\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    //获取歌曲的评论列表\r\n    getComments(singId) {\r\n      axios({\r\n        method: \"post\",\r\n        url: \"https://autumnfish.cn/search\",\r\n        params: {},\r\n        data: {}\r\n      })\r\n        .then(result => {\r\n          console.log(result);\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n      axios({\r\n        url: \"https://autumnfish.cn/comment/music\",\r\n        params: {\r\n          id: singId,\r\n          ss: Math.random() * 999\r\n        }\r\n      })\r\n        .then(result => {\r\n          //   console.log('评论列表',result);\r\n          //获取到评论列表传给子组件\r\n          this.$refs.comments.commentList = result.data.hotComments;\r\n          //调用子组件延时刷新\r\n          this.$refs.comments.scrollRefresh();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    // 监听音乐播放事件\r\n    playEvent() {\r\n      this.$refs.player.isPlay = true;\r\n    },\r\n    // 监听音乐停止事件\r\n    pauseEvent() {\r\n      this.$refs.player.isPlay = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n@import url(\"./assets/css/app.css\");\r\n</style>"]}]}