{"remainingRequest":"C:\\Users\\15702\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\Vue学习笔记\\VueStudy\\02-组件化开发\\04-音乐播放器\\App.vue?vue&type=style&index=0&lang=css&","dependencies":[{"path":"E:\\Vue学习笔记\\VueStudy\\02-组件化开发\\04-音乐播放器\\App.vue","mtime":1583758578700},{"path":"C:\\Users\\15702\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\css-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\15702\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":499162500000},{"path":"C:\\Users\\15702\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\postcss-loader\\src\\index.js","mtime":499162500000},{"path":"C:\\Users\\15702\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\15702\\AppData\\Roaming\\npm\\node_modules\\@vue\\cli-service-global\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCg0KQGltcG9ydCB1cmwoIi4vYXNzZXRzL2Nzcy9hcHAuY3NzIik7DQo="},{"version":3,"sources":["App.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4IA","file":"App.vue","sourceRoot":".","sourcesContent":["<template>\r\n  <div class=\"wrap\">\r\n    <div class=\"play_wrap\" id=\"player\">\r\n      <div class=\"search_bar\">\r\n        <img src=\"./assets/images/player_title.png\" alt />\r\n        <input type=\"text\" v-model=\"inputValue\" @keyup.enter=\"search\" />\r\n      </div>\r\n      <div class=\"center_con\">\r\n        <!-- 音乐列表 -->\r\n        <songs ref=\"songCpn\"></songs>\r\n        <!-- 黑胶碟片 -->\r\n        <middle ref=\"player\"></middle>\r\n        <!-- 评论列表 -->\r\n        <comments ref=\"comments\"></comments>\r\n      </div>\r\n      <div class=\"audio_con\">\r\n        <audio\r\n          @play=\"playEvent\"\r\n          @pause=\"pauseEvent\"\r\n          controls\r\n          autoplay\r\n          loop\r\n          class=\"myaudio\"\r\n          :src=\"singUrl\"\r\n        ></audio>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport axios from \"axios\";\r\n//导入子组件\r\nimport songs from \"./components/songs.vue\";\r\nimport middle from \"./components/middle.vue\";\r\nimport comments from \"./components/comments.vue\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      inputValue: \"\", //搜索框的值\r\n      singUrl: \"\" //歌曲播放地址\r\n    };\r\n  },\r\n  // 注册组件\r\n  components: {\r\n    songs,\r\n    middle,\r\n    comments\r\n  },\r\n  methods: {\r\n    search() {\r\n      axios({\r\n        method: \"get\",\r\n        url: \"https://autumnfish.cn/search\",\r\n        params: {\r\n          keywords: this.inputValue,\r\n          ss: Math.random() * 999\r\n        }\r\n      })\r\n        .then(result => {\r\n          //获取到音乐列表数据后传给子组件\r\n          this.$refs.songCpn.songList = result.data.result.songs;\r\n          //要在数据改变后，加一个延时再刷新，为了保证数据一定完成渲染到页面\r\n          this.$refs.songCpn.scrollRefresh();\r\n          console.log(result);\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    //      https://autumnfish.cn/search?keywords= 神话               搜索歌曲时接口获取音乐列表\r\n    // -   https://autumnfish.cn/song/url?id=310574                      获取音乐url\r\n    // -   https://autumnfish.cn/comment/music?id=310574         获取 用户评论列表\r\n    // -  https://autumnfish.cn/song/detail?ids=310574                获取 音乐详情   如图片，演唱者等\r\n\r\n    //获取歌曲播放url\r\n    getSingUrl(singId) {\r\n      console.log(singId);\r\n\r\n      axios({\r\n        url: \"https://autumnfish.cn/song/url\",\r\n        params: {\r\n          id: singId,\r\n          ss: Math.random() * 999\r\n        }\r\n      })\r\n        .then(result => {\r\n          //将音乐播放地址赋给singUrl\r\n          this.singUrl = result.data.data[0].url;\r\n          //   console.log('歌曲地址',result.data.data[0].url);\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    //获取歌曲的评论列表\r\n    getComments(singId) {\r\n      axios({\r\n        method: \"post\",\r\n        url: \"https://autumnfish.cn/search\",\r\n        params: {},\r\n        data: {}\r\n      })\r\n        .then(result => {\r\n          console.log(result);\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n      axios({\r\n        url: \"https://autumnfish.cn/comment/music\",\r\n        params: {\r\n          id: singId,\r\n          ss: Math.random() * 999\r\n        }\r\n      })\r\n        .then(result => {\r\n          //   console.log('评论列表',result);\r\n          //获取到评论列表传给子组件\r\n          this.$refs.comments.commentList = result.data.hotComments;\r\n          //调用子组件延时刷新\r\n          this.$refs.comments.scrollRefresh();\r\n        })\r\n        .catch(error => {\r\n          console.log(error);\r\n        });\r\n    },\r\n    // 监听音乐播放事件\r\n    playEvent() {\r\n      this.$refs.player.isPlay = true;\r\n    },\r\n    // 监听音乐停止事件\r\n    pauseEvent() {\r\n      this.$refs.player.isPlay = false;\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style>\r\n@import url(\"./assets/css/app.css\");\r\n</style>"]}]}